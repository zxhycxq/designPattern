<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta name="renderer" content="webkit">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=no">
    <title>Title</title>
    <!--<link href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">-->
    <script src="//cdn.bootcss.com/jquery/1.12.0/jquery.min.js"></script>
    <!--<script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>-->
</head>
<body>

</body>
<script>
    (function ($) {

        var o = $ ({});

        $.subscribe = function () {
            o.on.apply (o, arguments);
        };

        $.unsubscribe = function () {
            o.off.apply (o, arguments);
        };

        $.publish = function () {
            o.trigger.apply (o, arguments);
        };

    } (jQuery));

    function handle(e, a, b, c) {
        // `e`是事件对象，不需要关注
        console.log(a + b + c);
    };

    //订阅
    $.subscribe("/some/topic", handle);
    //发布
    $.publish("/some/topic", ["a", "b", "c"]); // 输出abc


    $.unsubscribe("/some/topic", handle); // 退订

    //订阅
    $.subscribe("/some/topic", function (e, a, b, c) {
        console.log(a + b + c);
    });

    $.publish("/some/topic", ["a", "b", "c"]); // 输出abc

    //退订（退订使用的是/some/topic名称，而不是回调函数哦，和版本一的例子不一样
    $.unsubscribe("/some/topic");
</script>
</html>
